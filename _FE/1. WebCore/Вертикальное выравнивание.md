- [[#Таблицы]]
- [[#Отступы]]
- [[#line-height]]
- [[#Растягивание]]
- [[#Отрицательный margin-top]]
- [[#transform]]
- [[#Псевдоэлемент]]
- [[#flexbox]]
- [[#Какой способ выбрать?]]

Исходные данные:
![[8aef6a49fa9b46cdb1ee8c07104ddfd4.png]]

```html
<div class="outer">
    <div class="inner"></div>
</div>
```

Нужно выровнять внутренний элемент по центру относительно внешнего

## Таблицы
Самый дурацкий способ. Побочки в виде всех прелестей таблиц. Внутренний блок объявляем `inline-block` чтобы на него подействовало свойство `vertical-align`
```css
.outer {
    
    text-align: center;
    vertical-align: middle;
}
.inner {
    display: inline-block;
}
```

## Отступы
Применение очень ограничено, только если известны точные размеры (вертикальные в частности) внутреннего и внешнего блока. Устанавливаем верхнюю (или нижнюю) границу как половину разницы высот блоков. Способ не динамический. Внутренний блок - `inline-block`.

```css
.outer {
    height: 200px;
}

.inner {
	display: inline-block;
    height: 100px;
    margin: 50px 0;
}
```

## line-height
Если известно, что внутренний блок должен занимать не более одной строки текста, то можно воспользоваться свойством `line-height` и задать его равным высоте внешнего блока. Поскольку контент внутреннего блока не должен переноситься на вторую строку, рекомендуется также добавить правила `white-space: nowrap` и `overflow: hidden`
```css
.outer {
	height: 200px;
	line-height: 200px;
}
	
.inner {
	white-space: nowrap;
	overflow: hidden;
}
```

## Растягивание
Данный способ можно применять, когда высота внешнего блока неизвестна, но известна высота внутреннего. 

Для этого нужно:  
1. задать внешнему блоку относительное позиционирование, а внутреннему − абсолютное;
2. добавить внутреннему блоку правила `top: 0` и `bottom: 0`, в результате чего он растянется на всю высоту внешнего блока;
3. установить значение `auto` для вертикальных отступов внутреннего блока.
```css
.outer {
    position: relative;
}

.inner {
    height: 100px;
    position: absolute;
    top: 0;
    bottom: 0;
    margin: auto 0;
}
```

## Отрицательный margin-top
Как и предыдущий, он применяется, когда высота внешнего блока неизвестна, но известна высота внутреннего. Нужно задать внешнему блоку относительное позиционирование, а внутреннему − абсолютное. Затем необходимо сдвинуть внутренний блок вниз на половину высоты внешнего блока `top: 50%` и поднять вверх на половину собственной высоты `margin-top`

```css
.outer {
    position: relative;
}

.inner {
    height: 100px;
    position: absolute;
    top: 50%;
    margin-top: -50px;
}
```

## transform
Данный способ похож на предыдущий, но он может быть применен, когда высота внутреннего блока неизвестна. В этом случае вместо задания отрицательного отступа в пикселях можно воспользоваться свойством `transform` и поднять внутренний блок вверх с помощью функции `translateY` и значения `-50%`.

```css
.outer {
    position: relative;
}

.inner {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
}
```

Почему в предыдущем способе нельзя было задать значение в процентах? Так как процентные значения свойства `margin` вычисляются относительно родительского элемента, значение в 50% равнялось бы половине высоты внешнего блока, а нам нужно было поднять внутренний блок на половину его собственной высоты. Для этого как раз подходит свойство `transform`.

## Псевдоэлемент
Суть способа в добавлении внутри внешнего блока строчного блока `inline-block` высотой в 100% и задания ему вертикального выравнивания. В этом случае высота добавленного блока будет равна высоте внешнего блока. Внутренний блок выровняется по вертикали относительно добавленного, а значит, и внешнего блока.

Чтобы не нарушать семантику, строчный блок рекомендуется добавить с помощью псевдоэлемента `:before` или `:after`.

```css
.outer:before {
    display: inline-block;
    height: 100%;
    vertical-align: middle;
    content: "";
}

.inner {
    display: inline-block;
    vertical-align: middle;
}
```

Минус данного способа — он не может быть применен, если внутренний блок имеет абсолютное позиционирование.

## flexbox
Внешнему блоку необходимо задать `display: flex`, а внутреннему − `margin: auto`. Всё.

```css
.outer {
    display: flex;
    width: 200px;
    height: 200px;
}

.inner {
    width: 100px;
    margin: auto;
}
```

## Какой способ выбрать?

Нужно исходить из постановки задачи:  
- Для вертикального выравнивания текста лучше использовать вертикальные отступы или свойство `line-height`.
- Для абсолютно позиционированных элементов с известной высотой (например, иконок) идеально подойдет способ с отрицательным свойством `margin-top`.
- Для более сложных случаев, когда неизвестна высота блока, нужно использовать псевдоэлемент или свойство `transform`.
- Ну а если вам повезло настолько, что не нужно поддерживать старые версии браузера IE, то, конечно, лучше использовать `Flexbox`.